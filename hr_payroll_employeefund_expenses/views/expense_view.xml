<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <data>
    <!-- Adding fund fields to the hr.expense viewform -->
    <record id="hr_expense_view_form_inherit" model="ir.ui.view">
      <field name="name">hr_expense_view_form_inherit</field>
      <field name="model">hr.expense</field>
      <field name="inherit_id" ref="hr_expense.hr_expense_view_form" />
      <field name="arch" type="xml">
        <field name="company_id" position="after">
          <field name="employee_fund_balance" attrs="{'invisible': [('payment_mode', '!=', 'employee_fund')], }" />
        </field>
      </field>
    </record>
    <record id="hr_contract_employeefund" model="ir.ui.view">
      <field name="name">hr_contract_employeefund</field>
      <field name="model">hr.contract</field>
<!--
      <field name="inherit_id" ref="hr_contract.hr_contract_view_form" />
-->
      <field name="inherit_id" ref="hr_payroll_account.hr_contract_form_inherit" />
      <field name="arch" type="xml">
        <!--
             <field name="hr_responsible_id" position="after">
        -->
        
        <xpath expr="//group/group[last()]" position="after">
          <group string="Kompetensutvecklingsfond">
            <label for="employee_fund" />
            <div>
              <field name="employee_fund" />
              &amp;nbsp;
              <field name="employee_fund_balance" />
            </div>
          </group>
        </xpath>
      </field>
    </record>
  </data>
</odoo>
